<html lang="en">
<head>

<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&display=swap" rel="stylesheet">

<link rel="stylesheet" href="assets/css/popup.css"/>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script> 


<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js" integrity="sha256-Xb6SSzhH3wEPC4Vy3W70Lqh9Y3Du/3KxPqI2JHQSpTw=" crossorigin="anonymous"></script>
<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-array.v2.min.js"></script>

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script> 


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"> 
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<script src="https://unpkg.com/split.js/dist/split.min.js"></script>

<link rel="stylesheet" href="assets/thirdparty/markercluster/MarkerCluster.Default.css"/>
<link rel="stylesheet" href="assets/thirdparty/markercluster/MarkerCluster.css"/>
<script src="assets/thirdparty/markercluster/leaflet.markercluster.js"></script>

<link rel="stylesheet" href="assets/thirdparty/minimap/Control.MiniMap.min.css">
<script src="assets/thirdparty/minimap/Control.MiniMap.min.js"></script>

<link rel="stylesheet" href="assets/thirdparty/zoombar/L.Control.ZoomBar.css">
<script src="assets/thirdparty/zoombar/L.Control.ZoomBar.js"></script>

<link rel="stylesheet" href="assets/thirdparty/groupedlayercontrol/leaflet.groupedlayercontrol.min.css" />
<script src="assets/thirdparty/groupedlayercontrol/leaflet.groupedlayercontrol.js"></script>

<script src="assets/thirdparty/mask/LMask.js"></script>
<script src="assets/thirdparty/d3beeswarm/d3-beeswarm.min.js"></script>

<script src="assets/thirdparty/shpjs/shp.min.js"></script>

<script src="https://unpkg.com/simple-statistics@7.1.0/dist/simple-statistics.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/TweenMax.min.js"></script>

<link rel="stylesheet" href="assets/css/animate.min.css">


<link rel="stylesheet" href="assets/css/style.css">


<script src="assets/thirdparty/d3-legend/d3-legend.js"></script>
<title>COVID-19 in the U.S.</title>
</head>
<body>


<div id="loading-spinner" class="d-flex justify-content-center" >
  <div class="spinner-border" style="width: 3rem;height: 3rem;" role="status">
    <span class="sr-only">Loading...</span>
  </div>
  <span style="font-size:25px;padding-left:10px">Loading...</span>
</div>


 <div class="container-fluid us">



  <div style="display:flex;height: calc(100% - 0px);">
     <div id="one"  style="overflow-y:auto;">

       <div class="case-stats hide">
         <div id="bubblechart" style="text-align:center">
         </div>       
      </div>
      
      <div class="death-stats hide" style="">
         <span style="padding-left:10px;margin-top:-5px" >
           <span id="covid-death-counter"></span>
           <span id="covid-death-counter-header" class="covid-counter-header">Deaths</span>
         </span>
         <div>
           <a class="covid-death-link" onclick="showDeathByStateChart()">Deaths by state</a>
           <a class="covid-death-link"  onclick="showDeathByAgeChart()">Deaths by age</a>
         </div>
         
         <div id="dot-chart" class="hide" >
         </div>

         <div id="death-waffle-chart-container" class="hide" style="display:flex;">
           <div id="death-waffle-chart" class="waffle-chart hide" style="">
           </div>
           <div id="death-waffle-months">
           </div>
        </div>

         <div id="state-death-waffle-header" class="covid-counter-header hide" style="margin-top:40px">States with highest deaths</div>
         <div id="state-death-waffle-chart" class="waffle-chart hide" style="margin-top:10px">
         </div>


            
        






      </div>

 
    </div>

     <div id="two" style="overflow-y:hidden" >
        <div class="top-panel" >

          <div style="position:absolute;top:5px;right:10px;color:white" >
            <div id="covid-title">COVID-19 in the U.S.</div>
          </div>
          <div style="position:absolute;top:30px;right:10px;font-size:12px;color:white" >
            <a  id="data-sources-popover" tabindex="0"  role="button" data-placement="left" data-toggle="popover"  title="Data sources" 
            data-popover-content="#data-credits-popover">Data sources</a>
          </div>
          <div style="position:absolute;top:55px;right:6px;font-size:12px;color:white" >
            <a id="byline" href="http://ischool.berkeley.edu/~tonydisera/profile/" target="_tony">by Tony Di Sera</a>
          </div>



          <div id="data-credits-popover" class="hide">
            <div class="popover-body">
              <div class="credit"> 
                COVID-19 Data from <a href="https://github.com/nytimes/covid-19-data" target="_data_sources_new">NY Times</a>
              </div>
              <div class="credit"">
                COVID-19 Deaths by Age and State (shown in tree chart) from CDC <a href="https://data.cdc.gov/Case-Surveillance/United-States-COVID-19-Cases-and-Deaths-by-State-o/9mfq-cb36/data">COVID-19 Case Surveillance Public Use Data</a>
              </div>
              <div class="credit">
                State populations to calculate COVID-19 deaths per 100K (shown in tree chart) from 2019 U.S. Census
              </div>
              <div class="credit">
              Deaths other events from <a href="https://time.com/5815367/coronavirus-deaths-comparison" target="_data_sources_new">Time article</a>
              </div>
            </div>
          </div> 

          <div style="text-align:left;margin-left: 5px">
             <span id="covid-case-counter"></span>
             <span id="covid-case-counter-header" class="covid-counter-header hide">Cumulative Cases</span>
          </div>

          <div id="timeslider" class="hide" style="margin-top:15px">
            <div style="display:flex;">
              <div style="display:flex;flex-grow:2;justify-content: center;align-items:center">

               <span style="" id="month_display"></span>
               <span style="padding-right:20px;font-size:40px" class="hide">US COVID-19</span>
              </div>
            </div>
            <div class="timeslider-chart" >
                <button id="play-button">Play</button>

            </div>
          </div>
        </div>
        <div class="map-wrapper" >
          <div class="map" id="mapid1" ></div>
        </div>
     </div>
    
  </div>

 </div>

<!-- Modal -->
<div class="modal fade" id="deathByAgeModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" style="min-width:940px;min-height:600px" role="document">
    <div class="modal-content" >
      <div class="modal-header">
        <h5 class="modal-title" >U.S. COVID-19 deaths by age</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div id="death-by-age-chart-container">

         </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="deathByStateModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document" style="min-width:940px;min-height:600px">
    <div class="modal-content" >
      <div class="modal-header">
        <h5 class="modal-title" >U.S. COVID-19 deaths by state</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div>
           <button id="button-death-per-capita" onclick="onDeathPerCapita()" type="button">Switch to per 100K</button>
           <button id="button-total-death" class="hide" onclick="onDeathTotal()" type="button">Switch to total deaths</button>
         </div>
         <div id="death-by-state-chart-container">

         </div>
      </div>
    </div>
  </div>
</div>

</body>

<script src="js/us/globals.js"></script>


<link rel="stylesheet" href="js/charts/wafflechart/waffleChart.css">
<script src="js/charts/wafflechart/waffleChart.js"></script>

<link rel="stylesheet" href="js/charts/timeslider/timeslider.css">
<script src="js/charts/timeslider/timeslider.js"></script>

<script src="js/charts/dotchart/dotChart.js"></script>
<script src="js/charts/bubblechart/bubbleChart.js"></script>


<script src="js/charts/treechart/treeChart.js"></script>

<script src="js/util.js"></script>

<script src="js/us/layerConfig.js"></script>
<script src="js/us/layerBehavior.js"></script>

<script src="js/layerControl.js"></script>

<script src="js/us/main.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176590277-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-176590277-1');
</script>
</html>